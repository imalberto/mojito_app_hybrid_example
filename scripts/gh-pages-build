# Make example for gh-pages

# Input must be either "tablet" or "phone".

if [[ -z "$1" ]]; then
    echo ""
    echo "You must provide an argument of either 'tablet' or 'phone'."
    echo ""
    exit 0
fi

type=$1

cd ./mojito/app
mojito build html5app --context device:$type,environment:prod-webapp-gh-pages ../../../mojito_app_hybrid_example_gh_pages

cd ../../../mojito_app_hybrid_example_gh_pages

# Clean up before me move files around

rm -r ./mojito_app_hybrid_example/$type/HTMLFrameMojit
rm -r ./mojito_app_hybrid_example/$type/LazyLoad
rm -r ./mojito_app_hybrid_example/$type/TunnelProxy
rm ./cache.manifest
rm ./index.js
rm ./index.html
rm -r ./$type/*

# Now copy in the new files

cp -r ./mojito_app_hybrid_example/$type ./
rm -r ./mojito_app_hybrid_example
